var TcHmi;!function(e){let o;!function(o){let s;!function(o){let s;!function(o){const s=e.Controls.Beckhoff.Vision.Color.Space,r=e.Controls.Beckhoff.Vision.Color.ElementType,n=e.Controls.Beckhoff.Vision.Color.Precision;o.PixelColorFormatter=async function(l,t,c,a=n.ZERO,i=r.USINT){null==c&&(c=s.RGB),null==i&&(i=r.USINT);let u=await o.ConvertColor(null,t,s.RGBA,c,a,r.USINT,i);if(null==u)return l?.error(e.Errors.E_PARAMETER_INVALID,{code:100,message:"Cannot convert value"}),"";u=e.Controls.Beckhoff.Vision.Color.roundColorValue(u,a);const f=e=>{if(a!=n.UNROUNDED){let o=0;switch(a){case n.ZERO:o=0;break;case n.ONE:o=1;break;case n.TWO:o=2;break;case n.THREE:o=3}let s=e.toString().split("."),r=2==s.length?s[1]:null;if(null!=r)for(let e=0;e<o-Math.floor(Math.log10(Number.parseInt(r)))-1;e++)r+="0";else{r="";for(let e=0;e<o;e++)r+="0"}return r.length>0?s[0]+"."+r:s[0]}return e.toString()};let p,C;if(Array.isArray(u)){p=["","",""];for(let e=0;e<u.length;e++)p[e]=a?f(u[e]):u[e].toString()}else p=a?f(u):u.toString();switch(c){case s.GRAY:return C=`<span style="color:black;">${p}</span>`,l?.success(C),C;case s.RGB:return C=`<span style="color:red;">${p[0]}</span>, <span style="color:green;">${p[1]}</span>, <span style="color:blue;">${p[2]}</span>`,l?.success(C),C;case s.RGBA:return C=`<span style="color:red;">${p[0]}</span>, <span style="color:green;">${p[1]}</span>, <span style="color:blue;">${p[2]}</span>, <span style="color:black;">${p[3]}</span>`,l?.success(C),C;case s.HSV:case s.HSV_FULL:case s.HLS:case s.HLS_FULL:case s.Lab:case s.YUV:case s.YCrCb:return C=`<span style="color:black;">${p[0]}</span>, <span style="color:black;">${p[1]}</span>, <span style="color:black;">${p[2]}</span>`,l?.success(C),C;default:return l?.error(e.Errors.E_PARAMETER_INVALID,{code:100,message:'Invalid value for property "format"'}),""}}}(s=o.Vision||(o.Vision={}))}(s=o.Beckhoff||(o.Beckhoff={})),o.registerFunctionEx("PixelColorFormatter","TcHmi.Functions.Beckhoff.Vision",s.Vision.PixelColorFormatter)}(o=e.Functions||(e.Functions={}))}(TcHmi||(TcHmi={}));