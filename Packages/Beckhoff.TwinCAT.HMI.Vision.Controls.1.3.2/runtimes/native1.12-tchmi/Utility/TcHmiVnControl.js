var TcHmi;!function(t){let e;!function(e){let i;!function(e){let i;!function(e){class i{constructor(t,e,i){this.__listeners=new Array,this.__registerEvent=e,this.__unregisterEvent=i}add(t){let e=0;return this.__listeners.forEach((t=>{t.id==e&&e++})),this.__listeners.push(new s(t,e)),1==this.__listeners.length&&this.__registerEvent((t=>this.__listeners.forEach((e=>e.raise(t))))),e}remove(t){let e=-1;this.__listeners.forEach((i=>e=i.id==t?this.__listeners.indexOf(i):e)),-1!=e&&this.__listeners.splice(e,1),0==this.__listeners.length&&this.__unregisterEvent()}}e.VnEvent=i;class s{constructor(t,e){this.raise=t,this.id=e}}class o extends t.Controls.System.TcHmiControl{get __$name(){return this.__name}constructor(t,e,i){super(t,e,i),this.__propertyDescriptions=[],this.__functionsToCallOnDestruction=[],this.__events=new Map,this.__globalEventsRegistered=!1,this.__computeAndSetName(),this.__$log=new TcVision.Helpers.Logger(this.__$name),this.__assertNoAbstractInstantiation(),this.__readPropertiesDescriptions(),this.__$dom=new TcVision.Helpers.DOMElementManager(this.__element,this.__$log),this.__$events=new TcVision.Helpers.EventManager(this.__id,this.__$log)}__previnit(){super.__previnit()}__init(){super.__init()}__attach(){this.__$dom.register({Template:".TcHmi_Controls_Beckhoff_Vision_"+this.__$name+"-Template"}),super.__attach()}__detach(){super.__detach(),this.__$dom.forgetElements()}destroy(){this.__keepAlive||(super.destroy(),this.__$dom.destroy(),this.__$events.destroy(),this.__functionsToCallOnDestruction.forEach((t=>t())))}__assertNoAbstractInstantiation(){if(this.constructor===o)throw new Error("TcHmiVnControl is abstract. Do not instantiate it as a control!")}__computeAndSetName(){const t=this.getType().split(".");this.__name=t[t.length-1]}__$subscribeProperty(t,e){var i=this.__events.has(t);return i||this.__events.set(t,e),i}__$unsubscribeProperty(t){var e=this.__events.has(t);return e&&this.__events.delete(t),e}__readPropertiesDescriptions(){Object.keys(this.__attrs).forEach((t=>{if(o.Defaults.AttributeNames.indexOf(t)>-1)return;const e=this.__attrs[t].descr||{},i=e.propertyName,s=e.type,n=e.readOnly;this.__propertyDescriptions[i]={name:i,type:s,readOnly:n}}))}__$getProperty(t){return void 0===this.__$props[t]?this.getAttributeDefaultValueInternal(t):this.__$props[t]}__$setProperty(i,s,o=!1){if(void 0===this.__$props[i])return void this.__$log.error("Invalid propertyName in attribute setter:",i);let n="",r=null;switch(void 0===this.__propertyDescriptions[i]||(n=this.__propertyDescriptions[i].type||""),n){case"tchmi:general#/definitions/String":r=t.ValueConverter.toString(s);break;case"tchmi:general#/definitions/Boolean":r=t.ValueConverter.toBoolean(s);break;case"tchmi:general#/definitions/Number":r=t.ValueConverter.toNumber(s);break;case"tchmi:framework#/definitions/SolidColor":r=e.Helpers.ValueConverter.toSolidColor(s);break;case"tchmi:framework#/definitions/TcVnImageInfo":if(r=s,"string"==typeof r.nImageSize){const e=new t.Base64BinaryReader(r.nImageSize).readUInt32();r.nImageSize=e}break;default:r=s}if(null===r&&null!==s&&(this.__$log.warning("Default value was used for setting property "+i+". Value might have been invalid."),r=this.getAttributeDefaultValueInternal(i)),tchmi_equal(r,this.__$props[i]))return;const a=this.__$props[i];this.__$props[i]=r;const _=this["__process"+i];void 0!==_&&_.call(this,r,a,o),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:i}),this.__events.has(i)&&this.__events.get(i)()}__$setPropertyInternal(t,e){this.__$setProperty(t,e,!0)}__$createSubControl(e,i,s={},n=null){if(-1===e.indexOf(".")&&(e="TcHmi.Controls.Beckhoff."+e),!this.__isAttached)return this.__$log.error("Could not create sub-control since control itself is not attached, yet."),null;let r;void 0!==o.Defaults.ControlAttributes[e]?(r={...o.Defaults.ControlAttributes[e]},Object.keys(s).forEach((t=>{r[t]=s[t]}))):r=s;const a=t.ControlFactory.createEx(e,this.__id+"-"+i,r,this);return null==a?(this.__$log.error('Could not create control "'+i+'" of type "'+e+'".'),null):(null==n?this.__$dom.Template.append(a.getElement()):n.append(a.getElement()),a)}__positionFromEvent(t){return e.Position.fromEvent(t)}__registerGlobalEvents(){this.__globalEventsRegistered||(this.__mouseMoveId=o.__handleMouseMove.add((t=>this.__handleMouseMove(t))),this.__mouseUpId=o.__handleMouseUp.add((t=>this.__handleMouseUp(t))),this.__mouseLeaveId=o.__handleMouseLeave.add((t=>this.__handleMouseLeave(t))),this.__globalEventsRegistered=!0)}__unregisterGlobalEvents(){o.__handleMouseMove.remove(this.__mouseMoveId),o.__handleMouseUp.remove(this.__mouseUpId),o.__handleMouseLeave.remove(this.__mouseLeaveId),this.__globalEventsRegistered=!1}}o.__handleMouseMove=new i("mouseMove",(t=>{document.onmousemove=e=>t(e)}),(()=>document.onmousemove=null)),o.__handleMouseUp=new i("mouseUp",(t=>{document.onmouseup=e=>t(e)}),(()=>document.onmouseup=null)),o.__handleMouseLeave=new i("mouseLeave",(t=>{document.onmouseleave=e=>t(e)}),(()=>document.onmouseleave=null)),o.__handleTouchMove=new i("touchMove",(t=>{document.ontouchmove=e=>t(e)}),(()=>document.ontouchmove=null)),o.__handleTouchEnd=new i("touchEnd",(t=>{document.ontouchend=e=>t(e)}),(()=>document.ontouchend=null)),o.__handleTouchCancel=new i("touchCancel",(t=>{document.ontouchcancel=e=>t(e)}),(()=>document.ontouchcancel=null)),e.TcHmiVnControl=o;class n{constructor(t=!1){this.$available=t}}!function(t){t.Properties=class{};t.SubControls=class extends n{};let e;t.MemberMap=class extends Object{},function(t){t.ControlAttributes={"TcHmi.Controls.Beckhoff.TcHmiTextblock":{"data-tchmi-height":"26","data-tchmi-height-unit":"px","data-tchmi-left":"0","data-tchmi-left-unit":"px","data-tchmi-text":"Hello world!","data-tchmi-top":"0","data-tchmi-top-unit":"px","data-tchmi-width":"150","data-tchmi-width-unit":"px","data-tchmi-word-wrap":"True"},"TcHmi.Controls.Beckhoff.TcHmiCheckbox":{"data-tchmi-height":"26","data-tchmi-height-unit":"px","data-tchmi-left":"0","data-tchmi-left-unit":"px","data-tchmi-top":"0","data-tchmi-top-unit":"px","data-tchmi-width":"100","data-tchmi-width-unit":"px"},"TcHmi.Controls.Beckhoff.TcHmiCombobox":{"data-tchmi-combobox-text":"","data-tchmi-height":"26","data-tchmi-height-unit":"px","data-tchmi-left":"0","data-tchmi-left-unit":"px","data-tchmi-top":"0","data-tchmi-top-unit":"px","data-tchmi-width":"264","data-tchmi-width-unit":"px"}},t.AttributeNames=["data-tchmi-height","data-tchmi-height-unit","data-tchmi-left","data-tchmi-left-unit","data-tchmi-top","data-tchmi-top-unit","data-tchmi-type","data-tchmi-width","data-tchmi-width-unit","id"]}(e=t.Defaults||(t.Defaults={}))}(o=e.TcHmiVnControl||(e.TcHmiVnControl={}))}(i=e.Vision||(e.Vision={}))}(i=e.Beckhoff||(e.Beckhoff={}))}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));